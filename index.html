<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>T3N Next-Gen Manager</title>
<style>
:root {
  --bg: #05070a;
  --card: #0d1117;
  --border: #30363d;
  --text: #c9d1d9;
  --accent: #7efaff; /* Неоновый голубой, потому что мы в будущем */
  --danger: #ff4b4b;
  --success: #00ff9c;
}

* { box-sizing: border-box; transition: all 0.2s ease; }

body {
  margin: 0;
  min-height: 100vh;
  background: var(--bg);
  color: var(--text);
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  display: flex;
  padding: 20px;
  gap: 20px;
  justify-content: center;
}

.container {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 24px;
  width: 420px;
  height: fit-content;
  box-shadow: 0 10px 50px rgba(0,0,0,0.8);
}

h2 { 
    margin: 0 0 20px; 
    text-align: center; 
    text-transform: uppercase; 
    letter-spacing: 3px;
    color: var(--accent);
    text-shadow: 0 0 10px rgba(126, 250, 255, 0.3);
}

.input-group { position: relative; margin-bottom: 12px; }

input {
  width: 100%;
  background: #161b22;
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px;
  outline: none;
}

input:focus { border-color: var(--accent); box-shadow: 0 0 8px rgba(126, 250, 255, 0.2); }

.gen-btn {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: var(--border);
    border: none;
    color: var(--accent);
    padding: 4px 8px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 10px;
}

button.primary {
  width: 100%;
  background: var(--accent);
  color: #000;
  border: none;
  border-radius: 8px;
  padding: 14px;
  margin-top: 10px;
  cursor: pointer;
  font-weight: 800;
  text-transform: uppercase;
}

button.primary:hover { transform: scale(1.02); filter: brightness(1.1); }

.checks {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin: 15px 0;
  background: #161b22;
  padding: 12px;
  border-radius: 10px;
}

label { font-size: 12px; display: flex; align-items: center; gap: 8px; cursor: pointer; }

#history {
    width: 350px;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 20px;
    max-height: 80vh;
    overflow-y: auto;
}

.history-item {
    font-size: 11px;
    padding: 10px;
    border-bottom: 1px solid var(--border);
    cursor: pointer;
}

.history-item:hover { background: #161b22; }

#out {
  margin-top: 20px;
  padding: 15px;
  background: #000;
  border: 1px dashed var(--accent);
  border-radius: 10px;
  font-size: 12px;
  white-space: pre-wrap;
}

.ds-spoiler { background: #4f545c; color: #4f545c; border-radius: 3px; padding: 0 4px; cursor: pointer; }
.ds-spoiler.revealed { background: rgba(255,255,255,0.1); color: inherit; }
</style>
</head>
<body>

<div class="container">
  <h2>T3N Phase 2</h2>
  
  <div class="input-group">
    <input id="nick" placeholder="Nickname">
    <button class="gen-btn" onclick="randomNick()">RAND</button>
  </div>
  
  <div class="input-group">
    <input id="pass" type="text" placeholder="Password">
    <button class="gen-btn" onclick="randomPass()">GEN</button>
  </div>

  <input id="date" placeholder="Date (empty = now)">

  <div class="checks">
    <label><input type="checkbox" id="2fa"> 2FA</label>
    <label><input type="checkbox" id="age"> Verified</label>
    <label><input type="checkbox" id="chat"> Chat</label>
    <label><input type="checkbox" id="voice"> Voice</label>
    <label><input type="checkbox" id="email"> Email</label>
    <label><input type="checkbox" id="busy"> Busy</label>
  </div>

  <button class="primary" onclick="generate()">Execute & Copy</button>

  <div id="out">System ready...</div>
</div>

<div id="history">
    <h3 style="margin-top:0; font-size: 14px; color: var(--accent);">Recent Logs</h3>
    <div id="hist-list"></div>
</div>

<script>
// Авто-генерация всякого мусора
const randomNick = () => {
    const names = ["Shadow", "Vortex", "Cyber", "Ghost", "Zero", "Neon", "Void"];
    document.getElementById("nick").value = names[Math.floor(Math.random()*names.length)] + Math.floor(Math.random()*9999);
};

const randomPass = () => {
    const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";
    let retVal = "";
    for (let i = 0; i < 12; ++i) retVal += charset.charAt(Math.floor(Math.random() * charset.length));
    document.getElementById("pass").value = retVal;
};

// Хранилище
let logs = JSON.parse(localStorage.getItem('t3n_logs') || '[]');

function updateHistory() {
    const list = document.getElementById("hist-list");
    list.innerHTML = logs.map((log, i) => `
        <div class="history-item" onclick="loadLog(${i})">
            [${log.time}] ${log.nick}
        </div>
    `).reverse().join('');
}

function loadLog(i) {
    const log = logs[i];
    document.getElementById("nick").value = log.nick;
    document.getElementById("pass").value = log.pass;
    // ... можно дописать восстановление чекбоксов, если не лень
}

function unixFromDDMMYY(str) {
  if(!str) return Math.floor(Date.now() / 1000);
  const [d, m, y] = str.split(".").map(Number);
  const year = y < 100 ? 2000 + y : y;
  return Math.floor(new Date(year, m - 1, d).getTime() / 1000);
}

function generate() {
  const nick = document.getElementById("nick").value || "empty_user";
  const pass = document.getElementById("pass").value || "no_pass";
  const dateVal = document.getElementById("date").value;
  const unix = unixFromDDMMYY(dateVal);
  
  const check = (id) => document.getElementById(id).checked ? "✅" : "❌";

  const template = `nickname: \`${nick}\`
password: ||${pass}||
created: <t:${unix}:R>
info:
  2FA [${check("2fa")}] | Age [${check("age")}] | Voice [${check("voice")}]
  Chat [${check("chat")}] | Mail [${check("email")}] | Busy [${check("busy")}]`;

  // Рендерим в превью
  document.getElementById("out").innerHTML = template.replace(/\|\|(.*?)\|\|/g, '<span class="ds-spoiler" onclick="this.classList.toggle(\'revealed\')">$1</span>');
  
  // Копируем
  navigator.clipboard.writeText(template);

  // Сохраняем в историю
  logs.push({ nick, pass, time: new Date().toLocaleTimeString() });
  if(logs.length > 20) logs.shift();
  localStorage.setItem('t3n_logs', JSON.stringify(logs));
  updateHistory();
}

updateHistory();
</script>
</body>
</html>
